{"paragraphs":[{"title":"Create Leaflet Map via Angular","text":"%angular\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css\" />\n<div id=\"map\" style=\"height: 800px; width: 100%\"></div>\n\n<script type=\"text/javascript\">\nfunction initMap() {\n    var map = L.map('map').setView([30.00, -30.00], 3);\n\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        maxZoom: 12,\n        minZoom: 3\n    }).addTo(map);\n\n    var el = angular.element($('#map').parent('.ng-scope'));\n    angular.element(el).ready(function() {\n        window.locationWatcher = el.scope().compiledScope.$watch('data', function(newValue, oldValue) {\n            angular.forEach(newValue, function(tweet) {\n                L.marker([tweet.lat, tweet.lon]).bindPopup(\"<b>\" + tweet.user + \"</b><br>\" + tweet.tweet).addTo(map);             \n            });\n        })\n    });\n}\n\nif (window.locationWatcher) { window.locationWatcher(); }\n\nif (window.L) { initMap(); }\nelse {\n    var sc = document.createElement('script');\n    sc.type = 'text/javascript';\n    sc.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js';\n    sc.onload = initMap;\n    sc.onerror = function(err) { alert(err); }\n    document.getElementsByTagName('head')[0].appendChild(sc);\n}\n</script>\n","user":"anonymous","dateUpdated":"2017-06-03T14:26:37+0700","config":{"colWidth":12,"editorMode":"ace/mode/undefined","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"editOnDblClick":true},"editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":"<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css\" />\n<div id=\"map\" style=\"height: 800px; width: 100%\"></div>\n\n<script type=\"text/javascript\">\nfunction initMap() {\n    var map = L.map('map').setView([30.00, -30.00], 3);\n\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        maxZoom: 12,\n        minZoom: 3\n    }).addTo(map);\n\n    var el = angular.element($('#map').parent('.ng-scope'));\n    angular.element(el).ready(function() {\n        window.locationWatcher = el.scope().compiledScope.$watch('data', function(newValue, oldValue) {\n            angular.forEach(newValue, function(tweet) {\n                L.marker([tweet.lat, tweet.lon]).bindPopup(\"<b>\" + tweet.user + \"</b><br>\" + tweet.tweet).addTo(map);             \n            });\n        })\n    });\n}\n\nif (window.locationWatcher) { window.locationWatcher(); }\n\nif (window.L) { initMap(); }\nelse {\n    var sc = document.createElement('script');\n    sc.type = 'text/javascript';\n    sc.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js';\n    sc.onload = initMap;\n    sc.onerror = function(err) { alert(err); }\n    document.getElementsByTagName('head')[0].appendChild(sc);\n}\n</script>"}]},"apps":[],"jobName":"paragraph_1493221863973_-1927705476","id":"20161116-132203_299568547","dateCreated":"2017-04-26T22:51:03+0700","dateStarted":"2017-06-03T14:14:50+0700","dateFinished":"2017-06-03T14:15:05+0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:9820"},{"title":"Create Leaflet Map via Angular","text":"%angular\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css\" />\n<div id=\"map\" style=\"height: 800px; width: 100%\"></div>\n\n<script type=\"text/javascript\">\nfunction initMap() {\n    var map = L.map('map').setView([30.00, -30.00], 3);\n\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        maxZoom: 12,\n        minZoom: 3\n    }).addTo(map);\n\n    var el = angular.element($('#map').parent('.ng-scope'));\n    angular.element(el).ready(function() {\n        window.locationWatcher = el.scope().compiledScope.$watch('data', function(newValue, oldValue) {\n            angular.forEach(newValue, function(tweet) {\n                L.marker([tweet.lat, tweet.lon]).bindPopup(\"<b>\" + tweet.user + \"</b><br>\" + tweet.tweet).addTo(map);             \n            });\n        })\n    });\n}\n\nif (window.locationWatcher) { window.locationWatcher(); }\n\nif (window.L) { initMap(); }\nelse {\n    var sc = document.createElement('script');\n    sc.type = 'text/javascript';\n    sc.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js';\n    sc.onload = initMap;\n    sc.onerror = function(err) { alert(err); }\n    document.getElementsByTagName('head')[0].appendChild(sc);\n}\n</script>\n","user":"anonymous","dateUpdated":"2017-06-03T14:31:24+0700","config":{"colWidth":12,"editorMode":"ace/mode/undefined","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"editOnDblClick":true},"editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1496475084793_1836313683","id":"20170603-143124_346939101","dateCreated":"2017-06-03T14:31:24+0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:9821"},{"title":"Import Spark Streaming libraries","text":"import org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._","user":"anonymous","dateUpdated":"2017-06-03T14:26:37+0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorHide":false},"settings":{"params":{},"forms":{}},"results":"/Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n","apps":[],"jobName":"paragraph_1493221863976_-1928859722","id":"20161116-132420_904883552","dateCreated":"2017-04-26T22:51:03+0700","dateStarted":"2017-05-05T23:38:59+0700","dateFinished":"2017-05-05T23:39:01+0700","status":"ERROR","errorMessage":"org.apache.zeppelin.interpreter.InterpreterException: /Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess.start(RemoteInterpreterManagedProcess.java:143)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess.reference(RemoteInterpreterProcess.java:73)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.open(RemoteInterpreter.java:258)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.getFormType(RemoteInterpreter.java:423)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.getFormType(LazyOpenInterpreter.java:106)\n\tat org.apache.zeppelin.notebook.Paragraph.jobRun(Paragraph.java:387)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:175)\n\tat org.apache.zeppelin.scheduler.RemoteScheduler$JobRunner.run(RemoteScheduler.java:329)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n","progressUpdateIntervalMs":500,"$$hashKey":"object:9822"},{"title":"Configure Twitter OAuth credentials","text":"val consumerKey = System.getenv(\"TWITTER_CONSUMER_KEY\")\nval consumerSecret = System.getenv(\"TWITTER_CONSUMER_SECRET\")\nval accessToken = System.getenv(\"TWITTER_API_TOKEN\")\nval accessTokenSecret = System.getenv(\"TWITTER_API_TOKEN_SECRET\")\n\nSystem.setProperty(\"twitter4j.oauth.consumerKey\", consumerKey)\nSystem.setProperty(\"twitter4j.oauth.consumerSecret\", consumerSecret)\nSystem.setProperty(\"twitter4j.oauth.accessToken\", accessToken)\nSystem.setProperty(\"twitter4j.oauth.accessTokenSecret\", accessTokenSecret)","user":"anonymous","dateUpdated":"2017-06-03T14:26:37+0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorHide":false},"settings":{"params":{},"forms":{}},"results":"/Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n","apps":[],"jobName":"paragraph_1493221863977_-1929244471","id":"20161116-132956_702631610","dateCreated":"2017-04-26T22:51:03+0700","dateStarted":"2017-05-05T23:39:04+0700","dateFinished":"2017-05-05T23:39:05+0700","status":"ERROR","errorMessage":"org.apache.zeppelin.interpreter.InterpreterException: /Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess.start(RemoteInterpreterManagedProcess.java:143)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess.reference(RemoteInterpreterProcess.java:73)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.open(RemoteInterpreter.java:258)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.getFormType(RemoteInterpreter.java:423)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.getFormType(LazyOpenInterpreter.java:106)\n\tat org.apache.zeppelin.notebook.Paragraph.jobRun(Paragraph.java:387)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:175)\n\tat org.apache.zeppelin.scheduler.RemoteScheduler$JobRunner.run(RemoteScheduler.java:329)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n","progressUpdateIntervalMs":500,"$$hashKey":"object:9823"},{"title":"Start (Spark) streaming of (Twitter) tweets","text":"case class Tweet(user: String, tweet: String, lat: Double, lon: Double)\n\nval ssc = new StreamingContext(sc, Seconds(2))\n\nval tweets = TwitterUtils.createStream(ssc, None).window(Seconds(10))\ntweets.foreachRDD(rdd => {\n    val df = rdd\n      .filter(_.getGeoLocation != null)\n      .map(t => Tweet(t.getUser.getName, t.getText, t.getGeoLocation.getLatitude, t.getGeoLocation.getLongitude))\n          \n    var items = df.collect\n    z.angularBind(\"data\", items) \n})\n\nssc.start()\n","user":"anonymous","dateUpdated":"2017-06-03T14:26:37+0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorHide":false},"settings":{"params":{},"forms":{}},"results":"/Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n","apps":[],"jobName":"paragraph_1493221863978_-1928090225","id":"20161116-133553_241079618","dateCreated":"2017-04-26T22:51:03+0700","dateStarted":"2017-06-03T14:21:10+0700","dateFinished":"2017-06-03T14:21:11+0700","status":"ERROR","errorMessage":"org.apache.zeppelin.interpreter.InterpreterException: /Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess.start(RemoteInterpreterManagedProcess.java:143)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess.reference(RemoteInterpreterProcess.java:73)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.open(RemoteInterpreter.java:258)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.getFormType(RemoteInterpreter.java:423)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.getFormType(LazyOpenInterpreter.java:106)\n\tat org.apache.zeppelin.notebook.Paragraph.jobRun(Paragraph.java:387)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:175)\n\tat org.apache.zeppelin.scheduler.RemoteScheduler$JobRunner.run(RemoteScheduler.java:329)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n","progressUpdateIntervalMs":500,"$$hashKey":"object:9824"},{"title":"Stop (Spark) streaming of (Twitter) tweets","text":"ssc.stop(true, true)","user":"anonymous","dateUpdated":"2017-06-03T14:26:37+0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorHide":false},"settings":{"params":{},"forms":{}},"results":"/Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n","apps":[],"jobName":"paragraph_1493221863979_-1928474973","id":"20161116-210505_1893147246","dateCreated":"2017-04-26T22:51:03+0700","dateStarted":"2017-05-05T23:39:05+0700","dateFinished":"2017-05-05T23:39:06+0700","status":"ERROR","errorMessage":"org.apache.zeppelin.interpreter.InterpreterException: /Users/leeheeyeon/Downloads/zeppelin-0.7.1-bin-all/bin/interpreter.sh: line 213: /usr/local/lib/spark/bin/spark-submit: No such file or directory\n\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess.start(RemoteInterpreterManagedProcess.java:143)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess.reference(RemoteInterpreterProcess.java:73)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.open(RemoteInterpreter.java:258)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.getFormType(RemoteInterpreter.java:423)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.getFormType(LazyOpenInterpreter.java:106)\n\tat org.apache.zeppelin.notebook.Paragraph.jobRun(Paragraph.java:387)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:175)\n\tat org.apache.zeppelin.scheduler.RemoteScheduler$JobRunner.run(RemoteScheduler.java:329)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n","progressUpdateIntervalMs":500,"$$hashKey":"object:9825"},{"title":"","text":"","user":"anonymous","dateUpdated":"2017-06-03T14:26:37+0700","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1493221864002_-1937324198","id":"20161116-211818_27248234","dateCreated":"2017-04-26T22:51:04+0700","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:9826"}],"name":"Twitter Streaming","id":"2CGYWT221","angularObjects":{"2CGNM9X51:shared_process":[],"2CDNAJEN6:shared_process":[],"2CDXG3893:shared_process":[],"2CDJJURJM:shared_process":[],"2CDB24XQQ:shared_process":[],"2CGPKAHZQ:shared_process":[],"2CH6REKPH:shared_process":[],"2CE1ACYK7:shared_process":[],"2CEMJCWDW:shared_process":[],"2CGF293ZW:shared_process":[],"2CH3TF6TC:shared_process":[],"2CDSZK156:shared_process":[],"2CFP62RPU:shared_process":[],"2CGGCMHA3:shared_process":[],"2CEAVEK9U:shared_process":[],"2CE4R9MHE:shared_process":[],"2CET23UUF:shared_process":[],"2CFUVQTWP:shared_process":[],"2CFSKJH2Z:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}